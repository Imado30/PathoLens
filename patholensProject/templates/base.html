<!-- This is a base Page. A lot of other pages in our project will inherit this page -->
<!-- To do this just add extends "base.html" on top of the new html file -->
<!-- Tu use the blocks copy the blocks from this page in the new page and add the content in between-->
<!-- To implement an extra css file add css link betwenn the extracss block -->
<!-- To add a title add the title between the title block -->
<!-- To add extra content add the page content between the content block -->
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />
    <link rel="stylesheet" href="{% static 'css/base.css' %}">
    {% block extraCSS %}
    <!-- Extra CSS will go here -->
    {% endblock %}
    <script src="https://kit.fontawesome.com/179535dd9d.js" crossorigin="anonymous"></script>
    <title>{% block title %}Website{% endblock %}</title>
</head>
<body>
    <div class="topBar">
        <div class="NameIcon">
            <img alt="icon" src="../static/images/icons8-experiment-versuch-ios-17-glyph-96 copy.png">
            <p>PathoLens</p>
        </div>
        <div class="Buttons">
            <i class="fa-solid fa-circle-question" style="color: #ffffff;" id="openHelp" data-tooltip="Get Help"></i> 
            <i class="fa-solid fa-right-from-bracket" style="color: #ffffff;"></i>
        </div>
    </div>
    <div class="content">
        {% block content %}
         <!-- Content from the child page will go here -->
        {% endblock %}
    </div>
    
    <div class="helpSlide" id="helpWindow">
        <div class="closeHelp">
            <button type="button" id="helpClose"><i class="fa-solid fa-xmark"></i></button>
        </div>
        <div class="helpContent">
            <h2>Introduction</h2>
            <p></p>
            <h2>How to work with Patholens</h2>
            <p>	1. Homepage
                Once you have created your user account and logged in you will find yourself on the homepage.
                Here you can log out, get help and inspect your profile. Apart from that you will have two main options: 
                Starting a new diagnosis or continue an already running, unfinished one. If you started a diagnosis but 
                didn't get to finish it, "Continue Diagnosis" will take you straight to where you have left. "New Diagnosis" will 
                start a new diagnosis. Once you press the button you'll be given the choice to select one out of three datasets, 
                each containing different subjects. Selecting a dataset will take you to the diagnosis page to examine a randomly 
                selected subject from the dataset of your choice.
                2. Diagnosis page
                On the diagnosis page you will be presented three picture from a 3D MRI/CT scan showing the subject from three angles. 
                The pictures will appear 2D, but using the left mouse button on one of the pictures will allow you to scroll through
                the layers of the third dimension in the other two pictures. To do so, drag your pointer across one of the pictures. 
                Alternatively you can just click on the spot you want to see from other angles and the other two pictures will be adjusted 
                to show exactly the layer containing the spot chosen by you. 
                For every subject there will be two types of pictures to choose from: T1 and Flair. 
                Using the selection on the bottom of the page you can witch back and forth between the two types.
                Above the pictures you will find a toolbox offering you three tools to notate the pictures. 
                On the far left you will find a little mouse pointer. This tool allows you to mark a single pixel of the image just by clicking 
                on the targeted pixel. The second tool, right in the middle, is used to draw rectangles. Using the rectangle tool you can draw 
                a rectangle by dragging your pointer from the top left corner to the bottom right corner of your desired rectangle. 
                To erase a notation you have made, jsut use the eraser tool on the right of the toolbox.
                Once you are happy with your notations click on the "finish diagnosis" button in the bottom right corner.
        
            </p>
        </div>
    </div>

    <script>
        const helpWindow = document.getElementById("helpWindow");
        const openHelpWindow = document.getElementById("openHelp");
        const closeHelpWindow = document.getElementById("helpClose");

        openHelpWindow.addEventListener("click", () => {
            helpWindow.style.right = 0;
        });

        closeHelpWindow.addEventListener("click", () => {
            helpWindow.style.right = "-350px";
        })


    </script>

</body>
</html>