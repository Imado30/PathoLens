{% extends 'base.html' %}
{% load static %}
{% block extraCSS %}
  <link rel="stylesheet" href="{% static 'css/AIPage.css' %}?v=2" />
{% endblock %}

{% block topbar %}
  <a href="/startingPage" class="homeButton"><i class="fa-solid fa-house" style="color: #ffffff;"></i></a>
  <i class="fa-solid fa-circle-question" style="color: #ffffff;" id="openHelp" data-tooltip="Get Help"></i>
{% endblock %}

{% block content %}

  <!--<div class="dropdown">
    <select id="displayDropdown" class="dropdownSelect">
      <option value="myDiagnosis">My Diagnosis</option>
      <option value="AIDiagnosis" selected>AI Diagnosis</option>
      <option value="showOverlay">Show Overlay</option>
    </select>
  </div>
  <div class="dropdown">
    <select id="formatDropdown" class="dropdownSelect">
      <option value="T1">T1</option>
      <option value="Flair" selected>FLAIR</option>
    </select>
  </div>
  <div class="dropdown">
    <select id="AIdropdown" class="dropdownSelect">
      <option value="DEEPFCD" selected>Model A</option>
      <option value="MAP18">Model B</option>
      <option value="MELD">Model C</option>
      <option value="NNUNET">Model D</option>
    </select>
  </div>-->
    <div class="dropdown-container">

         <div class="dropdown" id="AIdropdown">
            <input class="text-box" type="text" value="Model A" readonly>
            <div class="options">
                <div onclick="swapOptions(this, 'model')">Model B</div>
                <div onclick="swapOptions(this, 'model')">Model C</div>
                <div onclick="swapOptions(this, 'model')">Model D</div>
            </div>
        </div>

        <div class="dropdown" id="displayDropdown">
            <input class="text-box" type="text" value="AI diagnosis" readonly>
            <div class="options">
                <div onclick="swapOptions(this, 'overlay')">my diagnosis</div>
                <div onclick="swapOptions(this, 'overlay')">show overlay</div>
            </div>
        </div>

        <div class="dropdown" id="formatDropdown">
        <input class="text-box" type="text" value="FLAIR" readonly>
        <div class="options">
            <div onclick="swapOptions(this, 'format')">T1</div>
        </div>
    </div>

    </div>

    <div class="imageBox">
        <canvas id="imageBrain" width="100%" height="395%"></canvas>
    </div>

    <div class="nextButton">
        <button type="button" id="TakeMyDiagnosis">Take My Diagnosis</button>
        <button type="button" id="TakeAIDiagnosis">Take AI Diagnosis</button>
        <button type="button" id="editDiagnosis">edit Diagnosis</button>
    </div>

{% endblock %}

{% block extraJS %}
    <script>
        function swapOptions(optionElement) {
            const parentDropdown = optionElement.closest('.dropdown');
            const textBox = parentDropdown.querySelector('.text-box');

            const currentValue = textBox.value;
            const clickedValue = optionElement.textContent;

            textBox.value = clickedValue;
            optionElement.textContent = currentValue;
        }

        document.querySelectorAll('.dropdown').forEach(dropdown => {
            dropdown.addEventListener('click', () => {
                dropdown.classList.toggle('active');
            });
        });
    </script>
  <script>
    const diagnosisID = '{{ diagnosisID }}'
  </script>
  <script type="module" src="{% static 'js/AIPageMain.js' %}"></script>
  <script type="module" src="{% static 'js/index.js' %}"></script>
{% endblock %}

